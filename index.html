<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vape Nebula</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap" rel="stylesheet">
  <style>
    @keyframes vaporwaveFade {
      0% { text-shadow: 0 0 5px #fff, 0 0 10px #ff00f2, 0 0 20px #ff00f2, 0 0 40px #00ffe7; }
      50% { text-shadow: 0 0 10px #fff, 0 0 20px #ff00f2, 0 0 30px #ff00f2, 0 0 60px #00ffe7; }
      100% { text-shadow: 0 0 5px #fff, 0 0 10px #ff00f2, 0 0 20px #ff00f2, 0 0 40px #00ffe7; }
    }

    @keyframes float {
      0% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0); }
    }

    body {
      margin: 0;
      font-family: 'Arial', sans-serif;
      background: linear-gradient(to bottom right, #120048, #310061, #8a00a2);
      color: #fff;
    }

    h1 {
      text-align: center;
      padding: 1rem;
      font-size: 2rem;
      animation: vaporwaveFade 3s infinite;
      color: #fff;
      text-shadow: 0 0 5px #000, 0 0 15px #000;
    }

    .vape-list, .flavour-list, .cart {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
      padding: 1rem;
    }

    .card {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 1rem;
      padding: 1rem;
      width: 180px;
      text-align: center;
      cursor: pointer;
      transition: 0.3s;
      box-shadow: 0 0 10px #ff00f2, 0 0 15px #000 inset;
      animation: float 3s ease-in-out infinite;
      border: 2px solid #000;
    }

    .card:hover, .card.selected {
      transform: scale(1.05);
      background: rgba(255, 255, 255, 0.3);
    }

    .card img {
      width: 100%;
      border-radius: 0.5rem;
      margin-bottom: 0.5rem;
      object-fit: cover;
    }

    .card-name {
      font-size: 1.2rem;
      font-weight: bold;
      background: linear-gradient(to right, #ff00f2, #00ffe7);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 5px #000;
      margin-bottom: 0.3rem;
    }

    .card-description {
      font-size: 0.85rem;
      margin-bottom: 0.3rem;
    }

    .card-price {
      font-size: 1rem;
      font-weight: bold;
      color: #ff00f2;
    }

    button {
      background: #ff00f2;
      color: #000;
      font-weight: bold;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      cursor: pointer;
      margin: 1rem;
      transition: background 0.2s;
    }

    button:hover {
      background: #00ffe7;
    }

    button:disabled {
      background: #555;
      cursor: not-allowed;
    }

    .cart {
      flex-direction: column;
      align-items: center;
      padding: 2rem;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 1rem;
      box-shadow: 0 0 20px #ff00f2;
    }

    .cart h2 {
      font-family: 'Roboto', sans-serif;
      font-size: 2rem;
      font-weight: 700;
      text-shadow: 0 0 10px #ff00f2;
      margin-bottom: 1.5rem;
    }

    .cart-item {
      display: flex;
      flex-direction: column;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
      border-radius: 1rem;
      padding: 1rem;
      width: 100%;
      max-width: 500px;
      margin-bottom: 1rem;
      box-shadow: 0 0 10px #00ffe7;
    }

    .cart-item-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.5rem;
    }

    .cart-item-name {
      font-family: 'Roboto', sans-serif;
      font-size: 1.1rem;
      font-weight: 700;
    }

    .cart-controls {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .cart-controls button {
      padding: 0.5rem 1rem;
      margin: 0;
    }

    .cart-item-price {
      font-size: 0.9rem;
      color: #00ffe7;
      opacity: 0.9;
    }

    @media (max-width: 600px) {
      h1 {
        font-size: 1.5rem;
      }

      .card {
        width: 150px;
        padding: 0.75rem;
      }

      .card-name {
        font-size: 1rem;
      }

      .card-description {
        font-size: 0.75rem;
      }

      .card-price {
        font-size: 0.9rem;
      }

      .vape-list, .flavour-list, .cart {
        gap: 0.75rem;
        padding: 0.75rem;
      }

      button {
        padding: 0.6rem 1.2rem;
        font-size: 0.9rem;
      }

      .cart h2 {
        font-size: 1.5rem;
      }

      .cart-item {
        padding: 0.75rem;
      }

      .cart-item-name {
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <h1>⚡ STAS_VAPE ⚡</h1>
  <div id="vapeList" class="vape-list"></div>
  <div id="flavourList" class="flavour-list" style="display:none;"></div>
  <div id="cart" class="cart" style="display:none;"></div>

  <script>
    const vapes = [
      {
        name: "ALIENVAPE HHC",
        puffs: 1000,
        nicotine: "5%",
        price: 40,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/680aafeefe28e1cc08e135f8_photo_2025-04-24_23-40-57.jpg",
        flavours: ["Amnesia Haze", "Mango Kush", "Super Lemon Haze", "Girl Scout Cookies", "Grape Ape"]
      },
      {
        name: "TORNADO 9K",
        puffs: 9000,
        nicotine: "5%",
        price: 20,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/66885e81ee9cc328347f1cdc_%D0%94%D0%B8%D0%B7%D0%B0%D0%B9%D0%BD%20%D0%B1%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20(18).png",
        flavours: ["Ice Pop", "Blueberry Sour Raspberry", "Rainbow Candy", "Guava Ice", "Mixed Berries"]
      },
      {
        name: "TORNADO 15K",
        puffs: 15000,
        nicotine: "2%",
        price: 20,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/66870572a00a5ffa6b348a97_photo_2024-06-28_23-05-58.jpg",
        flavours: [
          "Apple Peach Pear", "Banana Ice", "Blueberry Bubblegum", "Blueberry on Ice", "Blue Razz Lemonade",
          "Blueberry Raspberry", "Cola Ice", "Dragon Fruit", "Grape Ice", "Gummy Bear", "Mango on Ice",
          "Peach Blueberry Candy", "Peach Mango", "Peach Ice", "Pineapple Ice", "Red Energy Ice",
          "Strawberry Kiwi", "Strawberry Banana", "Strawberry Redbull", "Strawberry Watermelon Lemonade", "Watermelon Ice"
        ]
      },
      {
        name: "TORNADO 20K ЭКРАН",
        puffs: 20000,
        nicotine: "2%",
        price: 25,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/680aaf695af58317502f0ad5_fumot-tornado-20000-rechargeable-battery_1200x1200.webp",
        flavours: [
          "Banana Cake", "Blueberry Lemon Green Apple", "Blueberry Raspberry", "Blueberry Raspberry Hard Candy",
          "Blueberry Raspberry Sour", "Pear Ice", "Jelly Candies", "Chewy Bear Blue Razz", "Kiwi Passionfruit Guava",
          "Strawberry Watermelon", "Strawberry Kiwi", "Strawberry Ice", "Strawberry Raspberry Cherry Ice",
          "Strawberry Ice Cream", "Lychee Hami Melon", "Mixed Berries", "Mister Blue", "Peach Mango Watermelon",
          "Peach Berries", "Pina Colada", "Blue Razz", "Skittles", "Blended Berries", "Watermelon Ice",
          "Cherry", "Cherry Lime Eurasiatour", "Cherry Cola", "Cherry Berries"
        ]
      },
      {
        name: "TORNADO 20K",
        puffs: 20000,
        nicotine: "2.5%",
        price: 25,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/6800fd637ad8b0c49e9b4a8d_randm-fumot-tornado-max-20000.jpg.webp",
        flavours: ["Pineapple Ice", "Blue Razz Ice", "Grape Ice", "Sour Apple"]
      },
      {
        name: "TORNADO 25K",
        puffs: 25000,
        nicotine: "2%",
        price: 30,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/68010084b1e19ad8426e31f0_thumb_1284_0_0_0_0_auto.jpg",
        flavours: ["Double Apple", "Black Ice", "Strawberry Ice", "Miami Mint", "Cherry Cola", "Blueberry on Ice"]
      },
      {
        name: "TORNADO 30K",
        puffs: 30000,
        nicotine: "2%",
        price: 35,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/6801015be861afa63bb79692_fumot-tornado-30k-music-829692.webp",
        flavours: [
          "Peachy Mango Pineapple", "Blueberry on Ice", "Strawberry Grape", "Cola Ice", "Cherry Cola",
          "Double Apple", "Dr Blue", "Cherry Ice", "Strawberry Ice", "Strawberry Watermelon"
        ]
      },
      {
        name: "VOZOL Gear 10K",
        puffs: 10000,
        nicotine: "5%",
        price: 25,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/680101749374c38deb8e8f2f_LbjA4HjHKr7DY9FACNgDDQYZWnumvwDpv3hQghwv.webp",
        flavours: ["Strawberry Ice Cream", "Watermelon Bubblegum"]
      },
      {
        name: "VOZOL Gear 20K",
        puffs: 20000,
        nicotine: "2%",
        price: 25,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/6801018cb1e19ad8426f1e7d_VOZOL-GEAR-POWER-20000-1%20(1).jpg",
        flavours: []
      },
      {
        name: "VOZOL Gear 25K",
        puffs: 25000,
        nicotine: "5%",
        price: 30,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/680101fdcf66a1c4c100b096_vozol%2025k.png",
        flavours: ["Berry Mint", "Grape Mint", "Blue Razz Ice", "Blackberry Ice", "Berry Ice", "Blueberry Ice", "Blackcurrant Ice"]
      },
      {
        name: "VOZOL Vista Plug 15K",
        puffs: 15000,
        nicotine: "2%",
        price: 25,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/6801026f9d2ef545721d5d90_Vozol-Vista-Kit.jpg5_.webp",
        flavours: ["Sour Apple", "Kiwi Passionfruit Guava", "Cherry Cola", "Blue Razz Ice"]
      },
      {
        name: "MEDIAMAX PhoneVape 40K",
        puffs: 40000,
        nicotine: "2%",
        price: 30,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/680102844b38ea60299f8bf7_%E4%B8%BB%E5%9B%BE-1.webp",
        flavours: [
          "Strawberry Watermelon Ice", "Strawberry Ice", "Cherry Strawberry Raspberry", "Fizzy Cherry Cola",
          "Watermelon Ice", "Blue Razz Cherry", "Blueberry Raspberry", "Peach Mango Watermelon",
          "Strawberry Kiwi", "Blueberry Watermelon"
        ]
      },
      {
        name: "FUMOT Crystal 12K",
        puffs: 12000,
        nicotine: "2%",
        price: 20,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/680102a07cb5b9af192ac402_Fumot-Crystal-12000-3.jpeg",
        flavours: ["Fruity Fusion", "Watermelon Bubblegum"]
      },
      {
        name: "FUMOT Crystal 4.5K",
        puffs: 4500,
        nicotine: "2%",
        price: 20,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/680102d8891db73fae615a83_SKE_Crystal_Super_Max_4500_Puffs_Disposable_Vape_-_Blog_7eeb6280-186a-42c2-a1a9-e11c0b482fda.webp",
        flavours: [
          "Lemon & Lime", "Blueberry Cherry Cranberry", "Strawberry Raspberry Cherry", "Fresh Menthol Mojito",
          "Juicy Blueberry", "Watermelon Strawberry", "Apple Watermelon", "Cola Ice"
        ]
      },
      {
        name: "FUMOT Crystal 600",
        puffs: 600,
        nicotine: "2%",
        price: 10,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/680103086570a3c8dc130efc_fumot-randm-crystal-600ec597076-2ce2-4893-86cc-9eab1c467eb0.webp",
        flavours: [
          "Rainbow", "Blueberry Sour Raspberry", "Blueberry Peach Ice", "Starfruit Mulberry Lemon",
          "Lemon & Lime", "Pineapple Peach Mango", "Kiwi Passionfruit Guava", "Blue Razz Lemonade", "Apple Peach"
        ]
      },
      {
        name: "IJOY 40K",
        puffs: 40000,
        nicotine: "2%",
        price: 30,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/68010323d85907bb35fc96c2_ijoy-sd40000-40k-puffs-ai-voice-control-disposable_1200x1200%20(2).webp",
        flavours: [
          "Strawberry Kiwi", "Peach Mango Watermelon", "Cherry Lemon", "Peach Ice",
          "Kiwi Passionfruit Guava", "Cotton Candy", "Watermelon Ice"
        ]
      },
      {
        name: "SHISHA VAPE AlFakher 8K",
        puffs: 8000,
        nicotine: "6%",
        price: 20,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/6801034ea74e06c09e2092fc_Al-Fakher-Crown-Bar-PRO-8K-Al-Fakher-262869460.webp",
        flavours: [
          "Berry Blue", "Hubba", "Gum Mint", "Grape Mint", "Space Dream",
          "Magic Love", "Peach Ice", "Blueberry Gum", "Lemon Mint", "Cherry Fiesta"
        ]
      }
    ];

    let cart = [];

    const vapeListEl = document.getElementById('vapeList');
    const flavourListEl = document.getElementById('flavourList');
    const cartEl = document.getElementById('cart');

    function renderVapes() {
      vapeListEl.innerHTML = '';
      vapes.forEach(vape => {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <img src="${vape.image}" alt="${vape.name}">
          <div class="card-name">${vape.name}</div>
          <div class="card-description">Никотин: ${vape.nicotine}</div>
          <div class="card-description">Затяжек: ${vape.puffs}</div>
          <div class="card-price">€${vape.price}</div>
        `;
        card.onclick = () => showFlavours(vape);
        vapeListEl.appendChild(card);
      });
    }

    function showFlavours(vape) {
      vapeListEl.style.display = 'none';
      cartEl.style.display = 'none';
      flavourListEl.style.display = 'flex';
      flavourListEl.innerHTML = '';

      const selectedFlavours = new Set();

      const flavourWrap = document.createElement('div');
      flavourWrap.style.flexWrap = "wrap";
      flavourWrap.style.display = "flex";
      flavourWrap.style.justifyContent = "center";
      flavourWrap.style.gap = "1rem";

      if (vape.flavours.length === 0) {
        const noFlavoursMsg = document.createElement('p');
        noFlavoursMsg.textContent = 'Нет доступных вкусов.';
        noFlavoursMsg.style.margin = '1rem';
        flavourWrap.appendChild(noFlavoursMsg);
      } else {
        vape.flavours.forEach(flavour => {
          const card = document.createElement('div');
          card.className = 'card';
          card.innerText = flavour;
          card.onclick = () => {
            if (selectedFlavours.has(flavour)) {
              selectedFlavours.delete(flavour);
              card.classList.remove('selected');
            } else {
              selectedFlavours.add(flavour);
              card.classList.add('selected');
            }
          };
          flavourWrap.appendChild(card);
        });
      }

      const bottomButtons = document.createElement('div');
      bottomButtons.style.width = "100%";
      bottomButtons.style.display = "flex";
      bottomButtons.style.justifyContent = "space-between";
      bottomButtons.style.marginTop = "20px";

      const backBtn = document.createElement('button');
      backBtn.textContent = "⬅ Назад";
      backBtn.onclick = () => goBack();

      const addBtn = document.createElement('button');
      addBtn.textContent = "➕ В корзину";
      addBtn.disabled = vape.flavours.length === 0;
      addBtn.onclick = () => {
        if (vape.flavours.length > 0 && selectedFlavours.size === 0) {
          alert("Пожалуйста, выберите хотя бы один вкус!");
          return;
        }
        selectedFlavours.forEach(flavour => {
          cart.push({ vape: vape.name, flavour, price: vape.price, qty: 1 });
        });
        showCart();
      };

      bottomButtons.appendChild(backBtn);
      bottomButtons.appendChild(addBtn);

      flavourListEl.appendChild(flavourWrap);
      flavourListEl.appendChild(bottomButtons);
    }

    function goBack() {
      flavourListEl.style.display = 'none';
      cartEl.style.display = 'none';
      vapeListEl.style.display = 'flex';
    }

    function showCart() {
      vapeListEl.style.display = 'none';
      flavourListEl.style.display = 'none';
      cartEl.style.display = 'flex';
      updateCart();
    }

    function updateCart() {
      cartEl.innerHTML = '<h2>🛒 Корзина</h2>';
      let total = 0;

      const itemsWrap = document.createElement('div');
      itemsWrap.style.width = '100%';
      itemsWrap.style.display = 'flex';
      itemsWrap.style.flexDirection = 'column';
      itemsWrap.style.gap = '1rem';

      cart.forEach((item, i) => {
        const itemContainer = document.createElement('div');
        itemContainer.className = 'cart-item';

        const topRow = document.createElement('div');
        topRow.className = 'cart-item-top';

        const name = document.createElement('div');
        name.className = 'cart-item-name';
        name.innerHTML = `<strong>${item.vape}</strong><br>${item.flavour}`;

        const controls = document.createElement('div');
        controls.className = 'cart-controls';

        const minus = document.createElement('button');
        minus.textContent = '−';
        minus.onclick = () => {
          if (item.qty > 1) item.qty--;
          else cart.splice(i, 1);
          updateCart();
        };

        const qty = document.createElement('span');
        qty.textContent = item.qty;

        const plus = document.createElement('button');
        plus.textContent = '+';
        plus.onclick = () => {
          item.qty++;
          updateCart();
        };

        controls.appendChild(minus);
        controls.appendChild(qty);
        controls.appendChild(plus);

        topRow.appendChild(name);
        topRow.appendChild(controls);
        itemContainer.appendChild(topRow);

        const price = document.createElement('div');
        price.className = 'cart-item-price';
        price.textContent = `€${item.price} / шт`;

        itemContainer.appendChild(price);
        itemsWrap.appendChild(itemContainer);

        total += item.price * item.qty;
      });

      cartEl.appendChild(itemsWrap);

      const btnRow = document.createElement('div');
      btnRow.style.marginTop = '2rem';
      btnRow.style.display = 'flex';
      btnRow.style.justifyContent = 'space-between';
      btnRow.style.width = '100%';

      const backButton = document.createElement('button');
      backButton.textContent = '⬅ Назад';
      backButton.onclick = () => goBack();
      btnRow.appendChild(backButton);

      if (cart.length) {
        const totalDiv = document.createElement('div');
        totalDiv.style.marginTop = '1rem';
        totalDiv.style.fontSize = '1.1rem';
        totalDiv.style.fontFamily = "'Roboto', sans-serif";
        totalDiv.innerHTML = `<strong>Итого: €${total.toFixed(2)}</strong>`;
        cartEl.appendChild(totalDiv);

        const sendBtn = document.createElement('button');
        sendBtn.textContent = '📨 Отправить заказ';
        sendBtn.onclick = () => sendOrder();
        btnRow.appendChild(sendBtn);
      } else {
        const emptyMsg = document.createElement('p');
        emptyMsg.style.marginTop = '1rem';
        emptyMsg.style.fontFamily = "'Roboto', sans-serif";
        emptyMsg.textContent = 'Корзина пуста.';
        cartEl.appendChild(emptyMsg);
      }

      cartEl.appendChild(btnRow);
    }

    function sendOrder() {
      if (cart.length === 0) {
        alert("Корзина пуста!");
        return;
      }
      let total = 0;
      const messageLines = cart.map(item => {
        total += item.qty * item.price;
        return `${item.vape} - ${item.flavour} x${item.qty}`;
      });
      const message = messageLines.join("\n");
      const fullMessage = `NEW ORDER\n${message}\nИТОГО: €${total.toFixed(2)}`;
      const encodedMessage = encodeURIComponent(fullMessage);
      window.open(`https://t.me/stas_vape_nl?text=${encodedMessage}`, "_blank");
    }

    renderVapes();
  </script>  
</body>
</html>
