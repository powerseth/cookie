<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vape Nebula</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap" rel="stylesheet">
  <style>
    @keyframes vaporwaveFade {
      0% { text-shadow: 0 0 5px #fff, 0 0 10px #ff00f2, 0 0 20px #ff00f2, 0 0 40px #00ffe7; }
      50% { text-shadow: 0 0 10px #fff, 0 0 20px #ff00f2, 0 0 30px #ff00f2, 0 0 60px #00ffe7; }
      100% { text-shadow: 0 0 5px #fff, 0 0 10px #ff00f2, 0 0 20px #ff00f2, 0 0 40px #00ffe7; }
    }

    @keyframes float {
      0% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0); }
    }

    @keyframes scroll {
      0% { transform: translateX(100vw); }
      100% { transform: translateX(-100%); }
    }

    @keyframes gridMove {
      0% { background-position: 0 0; }
      100% { background-position: 40px 40px; }
    }

    body {
      margin: 0;
      font-family: 'Arial', sans-serif;
      background: linear-gradient(to bottom right, #120048, #310061, #8a00a2);
      color: #fff;
    }

    .heading-container {
      position: relative;
      display: inline-block;
      margin: 0 auto;
      width: 100%;
      text-align: center;
    }

    h1 {
      position: relative;
      z-index: 1;
      padding: 1rem;
      font-size: 2rem;
      animation: vaporwaveFade 3s infinite;
      color: #fff;
      text-shadow: 0 0 5px #000, 0 0 15px #000;
      background: rgba(0, 0, 0, 0.5);
      border-radius: 0.5rem;
      display: inline-block;
    }

    .heading-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        linear-gradient(45deg, transparent 49%, #ff00f2 49%, #ff00f2 51%, transparent 51%) 0 0 / 20px 20px,
        linear-gradient(-45deg, transparent 49%, #00ffe7 49%, #00ffe7 51%, transparent 51%) 0 0 / 20px 20px,
        linear-gradient(to bottom right, #8a00a2, #310061);
      opacity: 0.7;
      animation: gridMove 10s linear infinite;
      box-shadow: 0 0 20px #ff00f2, 0 0 30px #00ffe7;
      z-index: 0;
      border-radius: 1rem;
    }

    h2.vape-heading {
      font-family: 'Roboto', sans-serif;
      font-size: 1.8rem;
      text-align: center;
      margin: 1rem 0;
      background: linear-gradient(to right, #8a00a2, #00b7eb, #ff69b4);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 10px #ff00f2, 0 0 20px #00ffe7, 0 0 30px #8a00a2;
    }

    .scrolling-text {
      overflow: hidden;
      width: 100%;
      background: rgba(0, 0, 0, 0.3);
      padding: 0.5rem 0;
      box-shadow: 0 0 10px #ff00f2;
    }

    .scrolling-text-container {
      display: flex;
      flex-direction: row;
      gap: 2rem;
      animation: scroll 30s steps(28) infinite;
      white-space: nowrap;
    }

    .scrolling-text p {
      font-size: 1rem;
      margin: 0;
      background: linear-gradient(to right, #ff00f2, #00ffe7);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 5px #000;
    }

    .filter-header {
      display: flex;
      justify-content: center;
      gap: 1rem;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 1rem;
      margin: 1rem;
      box-shadow: 0 0 10px #ff00f2;
    }

    .filter-header select {
      background: rgba(0, 0, 0, 0.5);
      color: #fff;
      border: 2px solid #ff00f2;
      border-radius: 0.5rem;
      padding: 0.5rem;
      font-size: 1rem;
      cursor: pointer;
      transition: border-color 0.2s;
    }

    .filter-header select:hover {
      border-color: #00ffe7;
    }

    .vape-list, .flavour-list, .cart {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
      padding: 1rem;
    }

    .card {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 1rem;
      padding: 1rem;
      width: 180px;
      text-align: center;
      cursor: pointer;
      transition: 0.3s;
      box-shadow: 0 0 10px #ff00f2, 0 0 15px #000 inset;
      animation: float 3s ease-in-out infinite;
      border: 2px solid #000;
    }

    .card:hover, .card.selected {
      transform: scale(1.05);
      background: rgba(255, 255, 255, 0.3);
    }

    .card img {
      width: 100%;
      border-radius: 0.5rem;
      margin-bottom: 0.5rem;
      object-fit: cover;
    }

    .flavour-list img.vape-image {
      max-width: 200px;
      border-radius: 0.5rem;
      margin: 1rem auto;
      display: block;
      box-shadow: 0 0 10px #ff00f2;
      cursor: pointer;
    }

    .card-name {
      font-size: 1.2rem;
      font-weight: bold;
      background: linear-gradient(to right, #ff00f2, #00ffe7);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 5px #000;
      margin-bottom: 0.3rem;
    }

    .card-description {
      font-size: 0.85rem;
      margin-bottom: 0.3rem;
    }

    .card-price {
      font-size: 1rem;
      font-weight: bold;
      color: #ff00f2;
    }

    button {
      background: #ff00f2;
      color: #000;
      font-weight: bold;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      cursor: pointer;
      margin: 1rem;
      transition: background 0.2s;
    }

    button:hover {
      background: #00ffe7;
    }

    button:disabled {
      background: #555;
      cursor: not-allowed;
    }

    .cart {
      flex-direction: column;
      align-items: center;
      padding: 2rem;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 1rem;
      box-shadow: 0 0 20px #ff00f2;
    }

    .cart h2 {
      font-family: 'Roboto', sans-serif;
      font-size: 2rem;
      font-weight: 700;
      text-shadow: 0 0 10px #ff00f2;
      margin-bottom: 1.5rem;
    }

    .cart-item {
      display: flex;
      flex-direction: column;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
      border-radius: 1rem;
      padding: 1rem;
      width: 100%;
      max-width: 500px;
      margin-bottom: 1rem;
      box-shadow: 0 0 10px #00ffe7;
    }

    .cart-item-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.5rem;
    }

    .cart-item-name {
      font-family: 'Roboto', sans-serif;
      font-size: 1.1rem;
      font-weight: 700;
    }

    .cart-controls {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .cart-controls button {
      padding: 0.5rem 1rem;
      margin: 0;
    }

    .cart-item-price {
      font-size: 0.9rem;
      color: #00ffe7;
      opacity: 0.9;
    }

    .delivery-fee {
      font-family: 'Roboto', sans-serif;
      font-size: 1rem;
      color: #ff00f2;
      margin-top: 1rem;
      width: 100%;
      max-width: 500px;
      text-align: right;
    }

    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .modal-content {
      position: relative;
      max-width: 90vw;
      max-height: 80vh;
    }

    .modal-content img {
      width: 100%;
      height: auto;
      border-radius: 0.5rem;
      box-shadow: 0 0 20px #ff00f2;
    }

    .close-button {
      position: absolute;
      top: -40px;
      right: -40px;
      background: #ff00f2;
      color: #000;
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      font-size: 1.5rem;
      cursor: pointer;
      transition: background 0.2s;
    }

    .close-button:hover {
      background: #00ffe7;
    }

    @media (max-width: 600px) {
      h1 {
        font-size: 1.5rem;
        padding: 0.75rem;
      }

      .heading-container::before {
        background-size: 15px 15px;
        box-shadow: 0 0 10px #ff00f2, 0 0 15px #00ffe7;
      }

      h2.vape-heading {
        font-size: 1.4rem;
      }

      .scrolling-text p {
        font-size: 0.9rem;
      }

      .scrolling-text-container {
        animation: scroll 30s steps(28) infinite;
      }

      .filter-header {
        flex-direction: column;
        gap: 0.5rem;
        margin: 0.5rem;
        padding: 0.75rem;
      }

      .filter-header select {
        width: 100%;
        font-size: 0.9rem;
        padding: 0.4rem;
      }

      .card {
        width: 150px;
        padding: 0.75rem;
      }

      .card-name {
        font-size: 1rem;
      }

      .card-description {
        font-size: 0.75rem;
      }

      .card-price {
        font-size: 0.9rem;
      }

      .vape-list, .flavour-list, .cart {
        gap: 0.75rem;
        padding: 0.75rem;
      }

      .flavour-list img.vape-image {
        max-width: 150px;
      }

      .cart {
        padding: 0.75rem;
        margin: 0.5rem;
      }

      .cart h2 {
        font-size: 1.5rem;
      }

      .cart-item {
        max-width: 95vw;
        padding: 0.75rem;
        margin: 0.5rem auto;
        border: 1px solid #ff00f2;
      }

      .cart-item-name {
        font-size: 1rem;
      }

      .cart-item-price {
        font-size: 0.9rem;
      }

      .cart-controls button {
        padding: 0.5rem 1rem;
        font-size: 1rem;
      }

      .delivery-fee {
        font-size: 1rem;
        text-align: center;
        padding: 0;
      }

      .cart .btn-row {
        flex-direction: column;
        gap: 0.5rem;
        align-items: center;
      }

      .cart .btn-row button {
        width: 100%;
        max-width: 95vw;
        padding: 0.6rem 1.2rem;
        font-size: 1rem;
      }

      .cart .total {
        text-align: center;
        font-size: 1.1rem;
      }

      .modal-content {
        max-width: 85vw;
        max-height: 70vh;
      }

      .close-button {
        top: -30px;
        right: -30px;
        width: 30px;
        height: 30px;
        font-size: 1.2rem;
      }
    }
  </style>
</head>
<body>
  <div class="heading-container">
    <h1>⚡ STAS_VAPE ⚡</h1>
  </div>
  <div class="scrolling-text">
    <div class="scrolling-text-container">
      <p>✅ Стас отвечает быстрее молнии — ты ещё не подумал, а он уже с ответом</p>
      <p>✅ Он чувствует твой заказ до того, как ты открыл телефон</p>
      <p>✅ У него всегда всё в наличии — даже то, чего нет больше нигде</p>
      <p>✅ Доставка? Быстрее скорости света. Флэш отдыхает</p>
      <p>✅ Оформление заказа = вайб, как в лаунж-зале премиум клуба</p>
      <p>✅ Каждую неделю — новые вейпы, как будто он главный на фабрике вкуса</p>
      <p>✅ За всю историю — 0 жалоб. Потому что СТАС НЕ ОШИБАЕТСЯ</p>
      <p>✅ Канал — кладезь позитива и 5-звёздочных отзывов</p>
      <p>✅ 24/7 в онлайне — Стас не спит, он существует ради сервиса</p>
      <p>✅ Вейпы топ-класса — вкус, который будоражит душу</p>
      <p>✅ Доставка быстрее, чем ниндзя в прыжке — просто ПУФ, и уже у двери</p>
      <p>✅ Он понимает твои желания раньше тебя — экстрасенс от мира вейпа</p>
      <p>✅ Его склад — портал в бесконечность. Закончилось? Не у него</p>
      <p>✅ Даже курьеры не верят, как он успевает</p>
      <p>✅ Заказ у Стаса — как VIP-приглашение в клуб элиты</p>
      <p>✅ Новый вкус? Новый праздник. Новый кайф. Новый вау</p>
      <p>✅ Поклонники делают фан-страницы — он не просто продавец, он ИДОЛ</p>
      <p>✅ Его поддержка — это не поддержка. Это СТАСПЕРИЕНС™</p>
      <p>✅ Он вежлив, отзывчив, и ВСЕГДА с решением</p>
      <p>✅ Каждый вейп подобран лично с заботой, будто он знает твой вкус с рождения</p>
      <p>✅ Его клиенты — как будто светятся. Потому что glow up идёт от Стаса</p>
      <p>✅ Стас — это не бренд. ЭТО ЯВЛЕНИЕ. ЭПОХА. ВЕЛИЧИЕ В ЧИСТОМ ВИДЕ</p>
      <p>✅ Доставка по всей Голландии — от Амстердама до последнего переулка</p>
      <p>✅ Бесплатная доставка при заказе от 3-х штук — бонус от щедрого сердца</p>
      <p>✅ Принимает любые способы оплаты — от карты до космических биткоинов</p>
      <p>✅ Доставка в тот же день — потому что с ним ждать не надо. НИКОГДА</p>
      <p>🔥 СТАС — ЛЕГЕНДА. ЭНЕРГИЯ. ТВОЙ ЛЮБИМЫЙ ПРОДАВЕЦ. 🔥</p>
      <p>💯 Один раз заказал — и всё, ты его клиент навсегда.</p>
    </div>
  </div>
  <div id="filterHeader" class="filter-header">
    <select id="markFilter">
      <option value="All">Все Марки</option>
      <option value="ALIENVAPE">ALIENVAPE</option>
      <option value="TORNADO">TORNADO</option>
      <option value="VOZOL">VOZOL</option>
      <option value="MEDIAMAX">MEDIAMAX</option>
      <option value="FUMOT">FUMOT</option>
      <option value="IJOY">IJOY</option>
      <option value="SHISHA VAPE">SHISHA VAPE</option>
    </select>
    <select id="nicotineFilter">
      <option value="All">Все Никотин</option>
      <option value="2%">2%</option>
      <option value="2.5%">2.5%</option>
      <option value="5%">5%</option>
      <option value="6%">6%</option>
    </select>
    <select id="puffFilter">
      <option value="All">Все Затяжки</option>
      <option value="600">600</option>
      <option value="1000">1000</option>
      <option value="4500">4500</option>
      <option value="8000">8000</option>
      <option value="9000">9000</option>
      <option value="10000">10000</option>
      <option value="12000">12000</option>
      <option value="15000">15000</option>
      <option value="20000">20000</option>
      <option value="25000">25000</option>
      <option value="30000">30000</option>
      <option value="40000">40000</option>
    </select>
    <select id="priceFilter">
      <option value="All">Все Цены</option>
      <option value="10">€10</option>
      <option value="20">€20</option>
      <option value="25">€25</option>
      <option value="30">€30</option>
      <option value="35">€35</option>
      <option value="40">€40</option>
    </select>
  </div>
  <div id="vapeList" class="vape-list"></div>
  <div id="flavourList" class="flavour-list" style="display:none;"></div>
  <div id="cart" class="cart" style="display:none;"></div>

  <script>
    const vapes = [
      {
        name: "ALIENVAPE HHC",
        puffs: 1000,
        nicotine: "5%",
        price: 40,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/680aafeefe28e1cc08e135f8_photo_2025-04-24_23-40-57.jpg",
        flavours: ["Amnesia Haze", "Mango Kush", "Super Lemon Haze", "Girl Scout Cookies", "Grape Ape"]
      },
      {
        name: "TORNADO 9K",
        puffs: 9000,
        nicotine: "5%",
        price: 20,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/66885e81ee9cc328347f1cdc_%D0%94%D0%B8%D0%B7%D0%B0%D0%B9%D0%BD%20%D0%B1%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20(18).png",
        flavours: ["Ice Pop", "Blueberry Sour Raspberry", "Rainbow Candy", "Guava Ice", "Mixed Berries"]
      },
      {
        name: "TORNADO 15K",
        puffs: 15000,
        nicotine: "2%",
        price: 20,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/66870572a00a5ffa6b348a97_photo_2024-06-28_23-05-58.jpg",
        flavours: [
          "Apple Peach Pear", "Banana Ice", "Blueberry Bubblegum", "Blueberry on Ice", "Blue Razz Lemonade",
          "Blueberry Raspberry", "Cola Ice", "Dragon Fruit", "Grape Ice", "Gummy Bear", "Mango on Ice",
          "Peach Blueberry Candy", "Peach Mango", "Peach Ice", "Pineapple Ice", "Red Energy Ice",
          "Strawberry Kiwi", "Strawberry Banana", "Strawberry Redbull", "Strawberry Watermelon Lemonade", "Watermelon Ice"
        ]
      },
      {
        name: "TORNADO 20K ЭКРАН",
        puffs: 20000,
        nicotine: "2%",
        price: 25,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/680aaf695af58317502f0ad5_fumot-tornado-20000-rechargeable-battery_1200x1200.webp",
        flavours: [
          "Banana Cake", "Blueberry Lemon Green Apple", "Blueberry Raspberry", "Blueberry Raspberry Hard Candy",
          "Blueberry Raspberry Sour", "Pear Ice", "Jelly Candies", "Chewy Bear Blue Razz", "Kiwi Passionfruit Guava",
          "Strawberry Watermelon", "Strawberry Kiwi", "Strawberry Ice", "Strawberry Raspberry Cherry Ice",
          "Strawberry Ice Cream", "Lychee Hami Melon", "Mixed Berries", "Mister Blue", "Peach Mango Watermelon",
          "Peach Berries", "Pina Colada", "Blue Razz", "Skittles", "Blended Berries", "Watermelon Ice",
          "Cherry", "Cherry Lime Eurasiatour", "Cherry Cola", "Cherry Berries"
        ]
      },
      {
        name: "TORNADO 20K",
        puffs: 20000,
        nicotine: "2.5%",
        price: 25,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/6800fd637ad8b0c49e9b4a8d_randm-fumot-tornado-max-20000.jpg.webp",
        flavours: ["Pineapple Ice", "Blue Razz Ice", "Grape Ice", "Sour Apple"]
      },
      {
        name: "TORNADO 25K",
        puffs: 25000,
        nicotine: "2%",
        price: 30,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/68010084b1e19ad8426e31f0_thumb_1284_0_0_0_0_auto.jpg",
        flavours: ["Double Apple", "Black Ice", "Strawberry Ice", "Miami Mint", "Cherry Cola", "Blueberry on Ice"]
      },
      {
        name: "TORNADO 30K",
        puffs: 30000,
        nicotine: "2%",
        price: 35,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/6801015be861afa63bb79692_fumot-tornado-30k-music-829692.webp",
        flavours: [
          "Peachy Mango Pineapple", "Blueberry on Ice", "Strawberry Grape", "Cola Ice", "Cherry Cola",
          "Double Apple", "Dr Blue", "Cherry Ice", "Strawberry Ice", "Strawberry Watermelon"
        ]
      },
      {
        name: "VOZOL Gear 10K",
        puffs: 10000,
        nicotine: "5%",
        price: 25,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/680101749374c38deb8e8f2f_LbjA4HjHKr7DY9FACNgDDQYZWnumvwDpv3hQghwv.webp",
        flavours: ["Strawberry Ice Cream", "Watermelon Bubblegum"]
      },
      {
        name: "VOZOL Gear 20K",
        puffs: 20000,
        nicotine: "2%",
        price: 25,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/6801018cb1e19ad8426f1e7d_VOZOL-GEAR-POWER-20000-1%20(1).jpg",
        flavours: []
      },
      {
        name: "VOZOL Gear 25K",
        puffs: 25000,
        nicotine: "5%",
        price: 30,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/680101fdcf66a1c4c100b096_vozol%2025k.png",
        flavours: ["Berry Mint", "Grape Mint", "Blue Razz Ice", "Blackberry Ice", "Berry Ice", "Blueberry Ice", "Blackcurrant Ice"]
      },
      {
        name: "VOZOL Vista Plug 15K",
        puffs: 15000,
        nicotine: "2%",
        price: 25,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/6801026f9d2ef545721d5d90_Vozol-Vista-Kit.jpg5_.webp",
        flavours: ["Sour Apple", "Kiwi Passionfruit Guava", "Cherry Cola", "Blue Razz Ice"]
      },
      {
        name: "MEDIAMAX PhoneVape 40K",
        puffs: 40000,
        nicotine: "2%",
        price: 30,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/680102844b38ea60299f8bf7_%E4%B8%BB%E5%9B%BE-1.webp",
        flavours: [
          "Strawberry Watermelon Ice", "Strawberry Ice", "Cherry Strawberry Raspberry", "Fizzy Cherry Cola",
          "Watermelon Ice", "Blue Razz Cherry", "Blueberry Raspberry", "Peach Mango Watermelon",
          "Strawberry Kiwi", "Blueberry Watermelon"
        ]
      },
      {
        name: "FUMOT Crystal 12K",
        puffs: 12000,
        nicotine: "2%",
        price: 20,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/680102a07cb5b9af192ac402_Fumot-Crystal-12000-3.jpeg",
        flavours: ["Fruity Fusion", "Watermelon Bubblegum"]
      },
      {
        name: "FUMOT Crystal 4.5K",
        puffs: 4500,
        nicotine: "2%",
        price: 20,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/680102d8891db73fae615a83_SKE_Crystal_Super_Max_4500_Puffs_Disposable_Vape_-_Blog_7eeb6280-186a-42c2-a1a9-e11c0b482fda.webp",
        flavours: [
          "Lemon & Lime", "Blueberry Cherry Cranberry", "Strawberry Raspberry Cherry", "Fresh Menthol Mojito",
          "Juicy Blueberry", "Watermelon Strawberry", "Apple Watermelon", "Cola Ice"
        ]
      },
      {
        name: "FUMOT Crystal 600",
        puffs: 600,
        nicotine: "2%",
        price: 10,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/680103086570a3c8dc130efc_fumot-randm-crystal-600ec597076-2ce2-4893-86cc-9eab1c467eb0.webp",
        flavours: [
          "Rainbow", "Blueberry Sour Raspberry", "Blueberry Peach Ice", "Starfruit Mulberry Lemon",
          "Lemon & Lime", "Pineapple Peach Mango", "Kiwi Passionfruit Guava", "Blue Razz Lemonade", "Apple Peach"
        ]
      },
      {
        name: "IJOY 40K",
        puffs: 40000,
        nicotine: "2%",
        price: 30,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/68010323d85907bb35fc96c2_ijoy-sd40000-40k-puffs-ai-voice-control-disposable_1200x1200%20(2).webp",
        flavours: [
          "Strawberry Kiwi", "Peach Mango Watermelon", "Cherry Lemon", "Peach Ice",
          "Kiwi Passionfruit Guava", "Cotton Candy", "Watermelon Ice"
        ]
      },
      {
        name: "SHISHA VAPE AlFakher 8K",
        puffs: 8000,
        nicotine: "6%",
        price: 20,
        image: "https://cdn.prod.website-files.com/6685befcece47fe6d2a75ef8/6801034ea74e06c09e2092fc_Al-Fakher-Crown-Bar-PRO-8K-Al-Fakher-262869460.webp",
        flavours: [
          "Berry Blue", "Hubba", "Gum Mint", "Grape Mint", "Space Dream",
          "Magic Love", "Peach Ice", "Blueberry Gum", "Lemon Mint", "Cherry Fiesta"
        ]
      }
    ];

    const flavourEmojis = {
      "Amnesia Haze": "🌿", "Mango Kush": "🥭", "Super Lemon Haze": "🍋", "Girl Scout Cookies": "🍪", "Grape Ape": "🍇",
      "Ice Pop": "🧊", "Blueberry Sour Raspberry": "🫐", "Rainbow Candy": "🌈", "Guava Ice": "🥑", "Mixed Berries": "🍓",
      "Apple Peach Pear": "🍎", "Banana Ice": "🍌", "Blueberry Bubblegum": "🫐", "Blueberry on Ice": "🫐", "Blue Razz Lemonade": "🫐",
      "Blueberry Raspberry": "🫐", "Cola Ice": "🥤", "Dragon Fruit": "🐉", "Grape Ice": "🍇", "Gummy Bear": "🐻",
      "Mango on Ice": "🥭", "Peach Blueberry Candy": "🍑", "Peach Mango": "🍑", "Peach Ice": "🍑", "Pineapple Ice": "🍍",
      "Red Energy Ice": "⚡", "Strawberry Kiwi": "🍓", "Strawberry Banana": "🍓", "Strawberry Redbull": "🍓", "Strawberry Watermelon Lemonade": "🍓",
      "Watermelon Ice": "🍉", "Pineapple Ice": "🍍", "Blue Razz Ice": "🫐", "Sour Apple": "🍏", "Double Apple": "🍎",
      "Black Ice": "🖤", "Strawberry Ice": "🍓", "Miami Mint": "🌿", "Cherry Cola": "🍒", "Peachy Mango Pineapple": "🍑",
      "Strawberry Grape": "🍓", "Dr Blue": "🫐", "Cherry Ice": "🍒", "Strawberry Watermelon": "🍓", "Strawberry Ice Cream": "🍓",
      "Watermelon Bubblegum": "🍉", "Berry Mint": "🍓", "Grape Mint": "🍇", "Blackberry Ice": "🫐", "Berry Ice": "🍓",
      "Blueberry Ice": "🫐", "Blackcurrant Ice": "🫐", "Kiwi Passionfruit Guava": "🥝", "Strawberry Watermelon Ice": "🍓",
      "Cherry Strawberry Raspberry": "🍒", "Fizzy Cherry Cola": "🍒", "Blue Razz Cherry": "🫐", "Peach Mango Watermelon": "🍑",
      "Blueberry Watermelon": "🫐", "Fruity Fusion": "🍈", "Lemon & Lime": "🍋", "Blueberry Cherry Cranberry": "🫐",
      "Strawberry Raspberry Cherry": "🍓", "Fresh Menthol Mojito": "🌿", "Juicy Blueberry": "🫐", "Apple Watermelon": "🍎",
      "Rainbow": "🌈", "Blueberry Peach Ice": "🫐", "Starfruit Mulberry Lemon": "🍋", "Pineapple Peach Mango": "🍍",
      "Blue Razz Lemonade": "🫐", "Apple Peach": "🍎", "Cherry Lemon": "🍒", "Cotton Candy": "🍬", "Berry Blue": "🫐",
      "Hubba": "🍬", "Gum Mint": "🌿", "Space Dream": "🌌", "Magic Love": "💖", "Blueberry Gum": "🫐",
      "Lemon Mint": "🍋", "Cherry Fiesta": "🍒", "Banana Cake": "🍌", "Blueberry Lemon Green Apple": "🫐",
      "Blueberry Raspberry Hard Candy": "🫐", "Blueberry Raspberry Sour": "🫐", "Pear Ice": "🍐", "Jelly Candies": "🍬",
      "Chewy Bear Blue Razz": "🐻", "Strawberry Raspberry Cherry Ice": "🍓", "Lychee Hami Melon": "🍈", "Mister Blue": "🫐",
      "Peach Berries": "🍑", "Pina Colada": "🍍", "Blue Razz": "🫐", "Skittles": "🍬", "Blended Berries": "🍓",
      "Cherry": "🍒", "Cherry Lime Eurasiatour": "🍒", "Cherry Berries": "🍒"
    };

    let cart = [];

    const vapeListEl = document.getElementById('vapeList');
    const flavourListEl = document.getElementById('flavourList');
    const cartEl = document.getElementById('cart');
    const filterHeaderEl = document.getElementById('filterHeader');
    const markFilter = document.getElementById('markFilter');
    const nicotineFilter = document.getElementById('nicotineFilter');
    const puffFilter = document.getElementById('puffFilter');
    const priceFilter = document.getElementById('priceFilter');

    function renderVapes() {
      const mark = markFilter.value;
      const nicotine = nicotineFilter.value;
      const puffs = puffFilter.value;
      const price = priceFilter.value;

      vapeListEl.innerHTML = '';
      vapes
        .filter(vape => {
          return (
            (mark === 'All' || vape.name.includes(mark)) &&
            (nicotine === 'All' || vape.nicotine === nicotine) &&
            (puffs === 'All' || vape.puffs.toString() === puffs) &&
            (price === 'All' || vape.price.toString() === price)
          );
        })
        .forEach(vape => {
          const card = document.createElement('div');
          card.className = 'card';
          card.innerHTML = `
            <img src="${vape.image}" alt="${vape.name}">
            <div class="card-name">${vape.name}</div>
            <div class="card-description">Никотин: ${vape.nicotine}</div>
            <div class="card-description">Затяжек: ${vape.puffs}</div>
            <div class="card-price">€${vape.price}</div>
          `;
          card.onclick = () => showFlavours(vape);
          vapeListEl.appendChild(card);
        });
    }

    function showImageModal(src, alt) {
      const modal = document.createElement('div');
      modal.className = 'modal';
      modal.innerHTML = `
        <div class="modal-content">
          <img src="${src}" alt="${alt}">
          <button class="close-button">×</button>
        </div>
      `;
      document.body.appendChild(modal);

      const closeModal = () => {
        modal.remove();
      };

      modal.querySelector('.close-button').onclick = closeModal;
      modal.onclick = (e) => {
        if (e.target === modal) closeModal();
      };
    }

    function showFlavours(vape) {
      vapeListEl.style.display = 'none';
      cartEl.style.display = 'none';
      filterHeaderEl.style.display = 'none';
      flavourListEl.style.display = 'flex';
      flavourListEl.innerHTML = '';

      const heading = document.createElement('h2');
      heading.className = 'vape-heading';
      heading.textContent = `Выберите вкус для ${vape.name}`;
      flavourListEl.appendChild(heading);

      const vapeImage = document.createElement('img');
      vapeImage.className = 'vape-image';
      vapeImage.src = vape.image;
      vapeImage.alt = vape.name;
      vapeImage.onclick = () => showImageModal(vape.image, vape.name);
      flavourListEl.appendChild(vapeImage);

      const selectedFlavours = new Set();

      const flavourWrap = document.createElement('div');
      flavourWrap.style.flexWrap = "wrap";
      flavourWrap.style.display = "flex";
      flavourWrap.style.justifyContent = "center";
      flavourWrap.style.gap = "1rem";

      if (vape.flavours.length === 0) {
        const noFlavoursMsg = document.createElement('p');
        noFlavoursMsg.textContent = 'Нет доступных вкусов.';
        noFlavoursMsg.style.margin = '1rem';
        flavourWrap.appendChild(noFlavoursMsg);
      } else {
        vape.flavours.forEach(flavour => {
          const card = document.createElement('div');
          card.className = 'card';
          const emoji = flavourEmojis[flavour] || '🍬';
          card.innerText = `${emoji} ${flavour}`;
          card.onclick = () => {
            if (selectedFlavours.has(flavour)) {
              selectedFlavours.delete(flavour);
              card.classList.remove('selected');
            } else {
              selectedFlavours.add(flavour);
              card.classList.add('selected');
            }
          };
          flavourWrap.appendChild(card);
        });
      }

      const bottomButtons = document.createElement('div');
      bottomButtons.style.width = "100%";
      bottomButtons.style.display = "flex";
      bottomButtons.style.justifyContent = "space-between";
      bottomButtons.style.marginTop = "20px";

      const backBtn = document.createElement('button');
      backBtn.textContent = "⬅ Назад";
      backBtn.onclick = () => goBack();

      const addBtn = document.createElement('button');
      addBtn.textContent = "➕ В корзину";
      addBtn.disabled = vape.flavours.length === 0;
      addBtn.onclick = () => {
        if (vape.flavours.length > 0 && selectedFlavours.size === 0) {
          alert("Пожалуйста, выберите хотя бы один вкус!");
          return;
        }
        selectedFlavours.forEach(flavour => {
          cart.push({ vape: vape.name, flavour, price: vape.price, qty: 1 });
        });
        showCart();
      };

      bottomButtons.appendChild(backBtn);
      bottomButtons.appendChild(addBtn);

      flavourListEl.appendChild(flavourWrap);
      flavourListEl.appendChild(bottomButtons);
    }

    function goBack() {
      flavourListEl.style.display = 'none';
      cartEl.style.display = 'none';
      vapeListEl.style.display = 'flex';
      filterHeaderEl.style.display = 'flex';
    }

    function showCart() {
      vapeListEl.style.display = 'none';
      flavourListEl.style.display = 'none';
      filterHeaderEl.style.display = 'none';
      cartEl.style.display = 'flex';
      updateCart();
    }

    function updateCart() {
      cartEl.innerHTML = '<h2>🛒 Корзина</h2>';
      let total = 0;
      let totalQty = 0;

      const itemsWrap = document.createElement('div');
      itemsWrap.style.width = '100%';
      itemsWrap.style.display = 'flex';
      itemsWrap.style.flexDirection = 'column';
      itemsWrap.style.gap = '1rem';

      cart.forEach((item, i) => {
        const itemContainer = document.createElement('div');
        itemContainer.className = 'cart-item';

        const topRow = document.createElement('div');
        topRow.className = 'cart-item-top';

        const name = document.createElement('div');
        name.className = 'cart-item-name';
        name.innerHTML = `<strong>${item.vape}</strong><br>${item.flavour}`;

        const controls = document.createElement('div');
        controls.className = 'cart-controls';

        const minus = document.createElement('button');
        minus.textContent = '−';
        minus.onclick = () => {
          if (item.qty > 1) item.qty--;
          else cart.splice(i, 1);
          updateCart();
        };

        const qty = document.createElement('span');
        qty.textContent = item.qty;

        const plus = document.createElement('button');
        plus.textContent = '+';
        plus.onclick = () => {
          item.qty++;
          updateCart();
        };

        controls.appendChild(minus);
        controls.appendChild(qty);
        controls.appendChild(plus);

        topRow.appendChild(name);
        topRow.appendChild(controls);
        itemContainer.appendChild(topRow);

        const price = document.createElement('div');
        price.className = 'cart-item-price';
        price.textContent = `€${item.price} / шт`;

        itemContainer.appendChild(price);
        itemsWrap.appendChild(itemContainer);

        total += item.price * item.qty;
        totalQty += item.qty;
      });

      cartEl.appendChild(itemsWrap);

      const deliveryFee = totalQty < 3 ? 10 : 0;
      if (deliveryFee > 0) {
        const deliveryDiv = document.createElement('div');
        deliveryDiv.className = 'delivery-fee';
        deliveryDiv.textContent = `Доставка (от 3 штук бесплатная доставка): €${deliveryFee.toFixed(2)}`;
        cartEl.appendChild(deliveryDiv);
      }

      total += deliveryFee;

      const btnRow = document.createElement('div');
      btnRow.className = 'btn-row';
      btnRow.style.marginTop = '2rem';
      btnRow.style.display = 'flex';
      btnRow.style.justifyContent = 'space-between';
      btnRow.style.width = '100%';

      const backButton = document.createElement('button');
      backButton.textContent = '⬅ Назад';
      backButton.onclick = () => goBack();
      btnRow.appendChild(backButton);

      if (cart.length) {
        const totalDiv = document.createElement('div');
        totalDiv.className = 'total';
        totalDiv.style.marginTop = '1rem';
        totalDiv.style.fontSize = '1.1rem';
        totalDiv.style.fontFamily = "'Roboto', sans-serif";
        totalDiv.innerHTML = `<strong>Итого: €${total.toFixed(2)}</strong>`;
        cartEl.appendChild(totalDiv);

        const sendBtn = document.createElement('button');
        sendBtn.textContent = '📨 Отправить заказ';
        sendBtn.onclick = () => sendOrder();
        btnRow.appendChild(sendBtn);
      } else {
        const emptyMsg = document.createElement('p');
        emptyMsg.style.marginTop = '1rem';
        emptyMsg.style.fontFamily = "'Roboto', sans-serif";
        emptyMsg.textContent = 'Корзина пуста.';
        cartEl.appendChild(emptyMsg);
      }

      cartEl.appendChild(btnRow);
    }

    function sendOrder() {
      if (cart.length === 0) {
        alert("Корзина пуста!");
        return;
      }
      let total = 0;
      let totalQty = 0;
      const messageLines = cart.map(item => {
        total += item.qty * item.price;
        totalQty += item.qty;
        return `${item.vape} - ${item.flavour} x${item.qty} (€${item.price}/шт)`;
      });
      if (totalQty < 3) {
        messageLines.push(`Доставка (от 3 штук бесплатная доставка): €10`);
        total += 10;
      }
      const message = messageLines.join("\n");
      const fullMessage = `NEW ORDER\n${message}\n\nИТОГО: €${total.toFixed(2)}`;
      const encodedMessage = encodeURIComponent(fullMessage);
      window.open(`https://t.me/stas_vape_nl?text=${encodedMessage}`, "_blank");
      cart = [];
      updateCart();
    }

    markFilter.onchange = renderVapes;
    nicotineFilter.onchange = renderVapes;
    puffFilter.onchange = renderVapes;
    priceFilter.onchange = renderVapes;

    renderVapes();
  </script>  
</body>
</html>
